<!DOCTYPE html>
<html>
<head>
    <title>Notification Window</title>
    <meta charset="UTF-8">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" type="text/javascript"></script>
    <script id="achievement-pop-script">
        function adjustAchievementFont() {
            var nameValue = 100;
            var descriptionValue = 100;
            var pointsValue = 100;

            var achievementName = document.getElementById('achievement-pop-name');
            var achievementDescriptionElement = document.getElementById('achievement-pop-description');
            var achievementPointsElement = document.getElementById('achievement-pop-points');

            achievementName.style.fontSize = nameValue + 'px';
            achievementDescriptionElement.style.fontSize = descriptionValue + 'px';
            achievementPointsElement.style.fontSize = pointsValue + 'px';

            while (achievementName.scrollHeight > achievementName.offsetHeight) {
                nameValue--;
                achievementName.style.fontSize = nameValue + 'px';
            }

            while (achievementDescriptionElement.scrollHeight > achievementDescriptionElement.offsetHeight) {
                descriptionValue--;
                achievementDescriptionElement.style.fontSize = descriptionValue + 'px';
            }

            while (achievementPointsElement.scrollHeight > achievementPointsElement.offsetHeight) {
                pointsValue--;
                achievementPointsElement.style.fontSize = pointsValue + 'px';
            }
        }

        function adjustMasteryFont() {
            var nameValue = 100;
            var pointsValue = 100;

            var masteryName = document.getElementById('mastery-pop-name');
            var masteryPointsElement = document.getElementById('mastery-pop-points');
            var masteryAchievementsElement = document.getElementById('mastery-pop-achievements');

            masteryName.style.fontSize = nameValue + 'px';
            masteryAchievementsElement.style.fontSize = pointsValue + 'px';
            masteryPointsElement.style.fontSize = pointsValue + 'px';

            while (masteryName.scrollHeight > masteryName.offsetHeight) {
                nameValue--;
                masteryName.style.fontSize = nameValue + 'px';
            }

            if (masteryPointsElement.innerHTML.length > masteryAchievementsElement.innerHTML.length) {
                while (masteryPointsElement.scrollHeight > masteryPointsElement.offsetHeight) {
                    pointsValue--;
                    masteryPointsElement.style.fontSize = pointsValue + 'px';
                }

                masteryAchievementsElement.style.fontSize = pointsValue + 'px';
            } else {
                while (masteryAchievementsElement.scrollHeight > masteryAchievementsElement.offsetHeight) {
                    pointsValue--;
                    masteryAchievementsElement.style.fontSize = pointsValue + 'px';
                }

                masteryPointsElement.style.fontSize = pointsValue + 'px';
            }
        }

        function setFontFamily(value) {
            var all = document.getElementsByClassName('has-font');

            for (var i = 0; i < all.length; i++) {
                all[i].style.fontFamily = "\"" + value + "\"";
            }

            adjustMasteryFont();
            adjustAchievementFont();
        }

        function setFontColor(value) {
            var all = document.getElementsByClassName('has-font');

            for (var i = 0; i < all.length; i++) {
                all[i].style.color = value;
            }
        }

        function setFontOutline(value) {
            var all = document.getElementsByClassName('has-font');

            for (var i = 0; i < all.length; i++) {
                all[i].style.webkitTextStroke = value;
            }
            var achievmentBadge = document.getElementById("achievement-pop-badge");
            var masteryBadge = document.getElementById("mastery-pop-badge");

            achievmentBadge.style.border = value + ' solid';
            masteryBadge.style.border = value + ' solid';

            adjustMasteryFont();
            adjustAchievementFont();
        }

        function setBackgroundColor(color) {
            document.getElementById("achievement-pop").style.backgroundColor = color;
            document.getElementById("mastery-pop").style.backgroundColor = color;
        }

        function promptUser() {
            $("#achievement-pop-video").fadeOut();
            $("#mastery-pop-video").fadeOut();
            $("#user-prompt").fadeIn();
        }

        function enableEditModeAchievement() {
            document.getElementById("achievement-pop-video").controls = true;
            setAchievementIn(0);
        }

        function disableEditModeAchievement() {
            document.getElementById("achievement-pop-video").controls = false;
            document.getElementById("achievement-pop-video").style.border = "";
            $("#achievement-pop-video").fadeOut();
            setAchievementOut(0);
        }

        function enableEditModeMastery() {
            document.getElementById("mastery-pop-video").controls = true;

            setMasteryIn(0);
        }

        function disableEditModeMastery() {
            document.getElementById("mastery-pop-video").controls = false;
            document.getElementById("mastery-pop-video").style.border = "";
            $("#mastery-pop-video").fadeOut();
            setMasteryOut(0);
        }

        function setAchievementLeft(value) {
            document.getElementById("achievement-pop-video").style.left = value;
        }

        function setAchievementTop(value) {
            document.getElementById("achievement-pop-video").style.top = value;
        }

        function setAchievementWidth(value) {
            document.getElementById("achievement-pop-video").style.width = value;
        }

        function setMasteryLeft(value) {
            document.getElementById("mastery-pop-video").style.left = value;
        }

        function setMasteryTop(value) {
            document.getElementById("mastery-pop-video").style.top = value;
        }

        function setMasteryWidth(value) {
            document.getElementById("mastery-pop-video").style.width = value;
        }

        function achievementNotification(achievementName, achievementBadge, achievementDescription, achievementPoints) {
            $("#achievement-pop-name").text(achievementName);
            $("#achievement-pop-description").text(achievementDescription);
            $("#achievement-pop-points").text(achievementPoints);
            $("#achievement-pop-badge").attr("src", achievementBadge);
            $("#achievement-pop-video").attr("src", "disk://achievement-notification");

            adjustAchievementFont();

            $("#achievement-pop-video").fadeIn();
        }

        function masteryNotification(gameName, gameImageLoc, gameAchievementCount, gamePoints) {
            $("#mastery-pop-name").text(gameName);
            $("#mastery-pop-achievements").text('Cheevos: ' + gameAchievementCount);
            $("#mastery-pop-points").text('Points: ' + gamePoints);
            $("#mastery-pop-badge").attr("src", gameImageLoc);
            $("#mastery-pop-video").attr("src", "disk://mastery-notification");

            $("#mastery-pop-video").fadeIn();
        }

        function setAchievementIn(value) {
            document.getElementById("achievement-pop").style.animationName = "";

            setTimeout(function () {
                $("#achievement-pop").fadeIn();
                $("#achievement-pop-badge").fadeIn();
                $("#achievement-pop-name").fadeIn();
                $("#achievement-pop-points").fadeIn();
                $("#achievement-pop-description").fadeIn();

                adjustAchievementFont();
            }, +value);
        }

        function setAchievementOut(value) {
            setTimeout(function () {
                document.getElementById("achievement-pop").style.animationName = "notification-out-animation";

                $("#achievement-pop").fadeOut();
                $("#achievement-pop-badge").fadeOut();
                $("#achievement-pop-name").fadeOut();
                $("#achievement-pop-points").fadeOut();
                $("#achievement-pop-description").fadeOut();
            }, +value);
        }

        function setMasteryIn(value) {
            document.getElementById("mastery-pop").style.animationName = "";

            setTimeout(function () {
                $("#mastery-pop").fadeIn();
                $("#mastery-pop-badge").fadeIn();
                $("#mastery-pop-name").fadeIn();
                $("#mastery-pop-achievements").fadeIn();
                $("#mastery-pop-points").fadeIn();

                adjustMasteryFont();
            }, +value);
        }

        function setMasteryOut(value) {
            setTimeout(function () {
                document.getElementById("mastery-pop").style.animationName = "notification-out-animation";

                setTimeout(function () {
                    $("#mastery-pop").fadeOut();
                    $("#mastery-pop-badge").fadeOut();
                    $("#mastery-pop-name").fadeOut();
                    $("#mastery-pop-achievements").fadeOut();
                    $("#mastery-pop-points").fadeOut();
                }, 100);
            }, +value);
        }

        function hideNotifications() {
            $("#achievement-pop-video").fadeOut();
            $("#mastery-pop-video").fadeOut();
        }
    </script>
    <style id="achievement-pop-style" type="text/css">

        @keyframes notification-out-animation {
            0% {
                left: 230px;
                top: 215px;
            }

            100% {
                left: 230px;
                top: -310px;
            }
        }

        @keyframes user-prompt-animation {
            0% {
                left: 400px;
                top: -290px;
            }

            100% {
                left: 400px;
                top: 100px;
            }
        }

        @keyframes user-prompt-animation-reverse {
            0% {
                left: 400px;
                top: 100px;
            }

            100% {
                left: 400px;
                top: -290px;
            }
        }

        #achievement-pop,
        #mastery-pop {
            animation-iteration-count: 1;
            animation-fill-mode: forwards;
            animation-duration: 500ms;
        }

        #achievement-pop-name {
            position: relative;
            top: 10px;
            left: 12px;
            width: 870px;
            height: 60px;
            text-align: center;
            display: none;
        }

        #mastery-pop-name {
            position: relative;
            float: right;
            right: 15px;
            top: 12px;
            width: 680px;
            height: 100px;
            text-align: center;
            display: none;
        }

        #achievement-pop-badge {
            left: 2px;
            height: 125px;
            display: none;
        }

        #mastery-pop-badge {
            position: relative;
            left: 15px;
            top: 15px;
            float: left;
            height: 180px;
            display: none;
        }

        #achievement-pop-description {
            position: relative;
            float: right;
            width: 740px;
            height: 120px;
            text-align: center;
            display: none;
        }

        #mastery-pop-achievements,
        #mastery-pop-points {
            position: relative;
            float: right;
            padding-top: 25px;
            padding-right: 25px;
            width: 310px;
            height: 80px;
            text-align: left;
            display: none;
        }

        #achievement-pop-video,
        #mastery-pop-video {
            left: -25px;
            top: 5px;
            width: 900px;
            position: absolute;
            display: none;
        }

        .has-font {
            font-size: 48px;
            color: black;
            background: rgba(0, 0, 0, 0.0);
            font-family: Calibri;
            -webkit-text-stroke: 2px white;
            overflow-wrap: normal;
        }

        #user-prompt {
            animation-name: user-prompt-animation;
            animation-iteration-count: 1;
            animation-fill-mode: forwards;
            animation-duration: 1s;
        }

        #achievement-pop,
        #mastery-pop {
            position: relative;
            top: 160px;
            left: 200px;
            width: 900px;
            height: 212px;
            background-image: url('disk://background');
            background-repeat: no-repeat;
            background-color: #cccccc;
            background-size: cover;
            display: none;
        }

        #achievement-pop-points {
            top: 130px;
            left: 20px;
            height: 70px;
        }

        #container,
        #achievement-pop-points {
            position: absolute;
        }
    </style>
    <script>
        function acknowledgePrompt() {
            document.getElementById("user-prompt").style.animationName = "user-prompt-animation-reverse";

            setTimeout(function () {
                var element = document.getElementById("user-prompt");
                element.parentNode.removeChild(element);
            }, 1000);
        };
    </script>
</head>
<body>
    <div id="container" style="background: magenta; width: 1361px; height: 763px; top: -5px; left: -5px;">
        <div id="user-prompt" style="position: absolute; width: 400px; height: 200px;background-color: lightskyblue; left: 400px; top: 100px; text-align: center; display: none;">
            <div style="position: relative;top: 50px;text-align: center;font-weight: bold;vertical-align: middle; font-size: 42px;">
                Are you ready?<br />
                <button id="confirm-button" style="text-align: center;font-weight: bold;vertical-align: middle;font-size: 24px;" onclick="acknowledgePrompt()">
                    Yes
                </button>
            </div>
        </div>

        <div id="achievement-pop" src="disk://achievement-pop" style="border: 5px solid black;">
            <div id="achievement-pop-name" class="has-font"></div>
            <span id="description-span" style="        display: table-cell;
        position: relative;
        vertical-align: top;
        width: 875px;
        left: 10px;
        top: 10px;
        overflow: hidden;
">
                <img id="achievement-pop-badge" />
                <a id="achievement-pop-description" class="has-font"></a>
            </span>
            <div id="achievement-pop-points" class="has-font"></div>
        </div>

        <div id="mastery-pop" src="disk://achievement-pop" style="border: 5px solid black;">
            <img id="mastery-pop-badge" />
            <div id="mastery-pop-name" class="has-font"></div>
            <div id="mastery-pop-achievements" class="has-font"></div>
            <div id="mastery-pop-points" class="has-font"></div>
        </div>

        <video id="achievement-pop-video" autoplay></video>
        <video id="mastery-pop-video" autoplay></video>
    </div>
</body>
</html>
