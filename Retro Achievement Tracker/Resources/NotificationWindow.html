<!DOCTYPE html>
<html>
<head>
    <title>Notification Window</title>
    <meta charset="UTF-8">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" type="text/javascript"></script>
    <script id="achievement-pop-script">

        var achievementAnimationIn = "";
        var achievementAnimationOut = "";

        var masteryAnimationIn = "";
        var masteryAnimationOut = "";

        function adjustAchievementFont() {
            var nameValue = 100;
            var descriptionValue = 100;
            var pointsValue = 100;

            var achievementName = document.getElementById('achievement-pop-name');
            var achievementDescriptionElement = document.getElementById('achievement-pop-description');
            var achievementPointsElement = document.getElementById('achievement-pop-points');

            achievementName.style.fontSize = nameValue + 'px';
            achievementDescriptionElement.style.fontSize = descriptionValue + 'px';
            achievementPointsElement.style.fontSize = pointsValue + 'px';

            while (achievementName.scrollHeight > achievementName.offsetHeight) {
                nameValue--;
                achievementName.style.fontSize = nameValue + 'px';
            }

            while (achievementDescriptionElement.scrollHeight > achievementDescriptionElement.offsetHeight) {
                descriptionValue--;
                achievementDescriptionElement.style.fontSize = descriptionValue + 'px';
            }

            while (achievementPointsElement.scrollHeight > achievementPointsElement.offsetHeight) {
                pointsValue--;
                achievementPointsElement.style.fontSize = pointsValue + 'px';
            }
        }

        function adjustMasteryFont() {
            var nameValue = 100;
            var pointsValue = 100;

            var masteryName = document.getElementById('mastery-pop-name');
            var masteryPointsElement = document.getElementById('mastery-pop-points');
            var masteryAchievementsElement = document.getElementById('mastery-pop-achievements');

            masteryName.style.fontSize = nameValue + 'px';
            masteryAchievementsElement.style.fontSize = pointsValue + 'px';
            masteryPointsElement.style.fontSize = pointsValue + 'px';

            while (masteryName.scrollHeight > masteryName.offsetHeight) {
                nameValue--;
                masteryName.style.fontSize = nameValue + 'px';
            }

            if (masteryPointsElement.innerHTML.length > masteryAchievementsElement.innerHTML.length) {
                while (masteryPointsElement.scrollHeight > masteryPointsElement.offsetHeight) {
                    pointsValue--;
                    masteryPointsElement.style.fontSize = pointsValue + 'px';
                }

                masteryAchievementsElement.style.fontSize = pointsValue + 'px';
            } else {
                while (masteryAchievementsElement.scrollHeight > masteryAchievementsElement.offsetHeight) {
                    pointsValue--;
                    masteryAchievementsElement.style.fontSize = pointsValue + 'px';
                }

                masteryPointsElement.style.fontSize = pointsValue + 'px';
            }
        }

        function setFontFamily(value) {
            var all = document.getElementsByClassName('has-font');

            for (var i = 0; i < all.length; i++) {
                all[i].style.fontFamily = "\"" + value + "\"";
            }

            adjustMasteryFont();
            adjustAchievementFont();
        }

        function setFontColor(value) {
            var all = document.getElementsByClassName('has-font');

            for (var i = 0; i < all.length; i++) {
                all[i].style.color = value;
            }

            document.getElementById("ready-message").style.color = "#0000ff";
            document.getElementById("confirm-button").style.color = "#0000ff";
        }

        function setFontOutline(value) {
            var all = document.getElementsByClassName('has-font');

            for (var i = 0; i < all.length; i++) {
                all[i].style.webkitTextStroke = value;
            }
            var achievmentBadge = document.getElementById("achievement-pop-badge");
            var masteryBadge = document.getElementById("mastery-pop-badge");

            achievmentBadge.style.border = value + ' solid';
            masteryBadge.style.border = value + ' solid';

            adjustMasteryFont();
            adjustAchievementFont();
        }

        function setBackgroundColor(value) {
            document.getElementById("container").style.background = value;
        }

        function promptUser() {
            var element = document.getElementById("user-prompt");

            $("#achievement-pop-video").fadeOut();
            $("#mastery-pop-video").fadeOut();
            $("#user-prompt").fadeIn();
        }

        function enableEditModeAchievement() {
            document.getElementById("achievement-pop-video").controls = true;
            setAchievementIn(0);
        }

        function disableEditModeAchievement() {
            document.getElementById("achievement-pop-video").controls = false;
            document.getElementById("achievement-pop-video").style.border = "";
            $("#achievement-pop-video").fadeOut();
            setAchievementOut(0);
        }

        function enableEditModeMastery() {
            document.getElementById("mastery-pop-video").controls = true;

            setMasteryIn(0);
        }

        function disableEditModeMastery() {
            document.getElementById("mastery-pop-video").controls = false;
            document.getElementById("mastery-pop-video").style.border = "";
            $("#mastery-pop-video").fadeOut();
            setMasteryOut(0);
        }

        function setAchievementLeft(value) {
            document.getElementById("achievement-pop-video").style.left = value;
        }

        function setAchievementTop(value) {
            document.getElementById("achievement-pop-video").style.top = value;
        }

        function setAchievementWidth(value) {
            document.getElementById("achievement-pop-video").style.width = value;
        }

        function setMasteryLeft(value) {
            document.getElementById("mastery-pop-video").style.left = value;
        }

        function setMasteryTop(value) {
            document.getElementById("mastery-pop-video").style.top = value;
        }

        function setMasteryWidth(value) {
            document.getElementById("mastery-pop-video").style.width = value;
        }

        function setAnimationAchievementIn(animation) {
            console.log(animation);
            switch (animation) {
                case "DOWN":
                    achievementAnimationIn = "animation-in-down";
                    break;
                case "UP":
                    achievementAnimationIn = "animation-in-up";
                    break;
                case "RIGHT":
                    achievementAnimationIn = "animation-in-right";
                    break;
                case "LEFT":
                    achievementAnimationIn = "animation-in-left";
                    break;
                default:
                    achievementAnimationIn = "no-animation";
                    break;
            }
        }

        function setAnimationAchievementOut(animation) {
            switch (animation) {
                case "DOWN":
                    achievementAnimationOut = "animation-out-down";
                    break;
                case "UP":
                    achievementAnimationOut = "animation-out-up";
                    break;
                case "RIGHT":
                    achievementAnimationOut = "animation-out-right";
                    break;
                case "LEFT":
                    achievementAnimationOut = "animation-out-left";
                    break;
                default:
                    achievementAnimationOut = "no-animation";
                    break;
            }
        }

        function setAnimationMasteryIn(animation) {
            switch (animation) {
                case "DOWN":
                    masteryAnimationIn = "animation-in-down";
                    break;
                case "UP":
                    masteryAnimationIn = "animation-in-up";
                    break;
                case "RIGHT":
                    masteryAnimationIn = "animation-in-right";
                    break;
                case "LEFT":
                    masteryAnimationIn = "animation-in-left";
                    break;
                default:
                    masteryAnimationIn = "no-animation";
                    break;
            }
        }

        function setAnimationMasteryOut(animation) {
            switch (animation) {
                case "DOWN":
                    masteryAnimationOut = "animation-out-down";
                    break;
                case "UP":
                    masteryAnimationOut = "animation-out-up";
                    break;
                case "RIGHT":
                    masteryAnimationOut = "animation-out-right";
                    break;
                case "LEFT":
                    masteryAnimationOut = "animation-out-left";
                    break;
                default:
                    masteryAnimationOut = "no-animation";
                    break;
            }
        }

        function achievementNotification(achievementName, achievementBadge, achievementDescription, achievementPoints) {
            $("#achievement-pop-name").text(achievementName);
            $("#achievement-pop-description").text(achievementDescription);
            $("#achievement-pop-points").text(achievementPoints);
            $("#achievement-pop-badge").attr("src", achievementBadge);
            $("#achievement-pop-video").attr("src", "disk://achievement-notification");

            adjustAchievementFont();

            $("#achievement-pop-video").fadeIn();
        }

        function masteryNotification(gameName, gameImageLoc, gameAchievementCount, gamePoints) {
            $("#mastery-pop-name").text(gameName);
            $("#mastery-pop-achievements").text('Cheevos: ' + gameAchievementCount);
            $("#mastery-pop-points").text('Points: ' + gamePoints);
            $("#mastery-pop-badge").attr("src", gameImageLoc);
            $("#mastery-pop-video").attr("src", "disk://mastery-notification");

            $("#mastery-pop-video").fadeIn();
        }

        function setAchievementIn(value) {
            var element = document.getElementById("achievement-pop");

            element.classList.remove(achievementAnimationOut);
            element.classList.remove(achievementAnimationIn);

            setTimeout(function () {
                element.classList.add(achievementAnimationIn);

                $("#achievement-pop").fadeIn();
                $("#achievement-pop-badge").fadeIn();
                $("#achievement-pop-name").fadeIn();
                $("#achievement-pop-points").fadeIn();
                $("#achievement-pop-description").fadeIn();

                adjustAchievementFont();
            }, +value);
        }

        function setAchievementOut(value) {
            var element = document.getElementById("achievement-pop");

            setTimeout(function () {
                element.classList.remove(achievementAnimationOut);
                element.classList.remove(achievementAnimationIn);

                element.classList.add(achievementAnimationOut);

                setTimeout(function () {

                    $("#achievement-pop").fadeOut();
                    $("#achievement-pop-badge").fadeOut();
                    $("#achievement-pop-name").fadeOut();
                    $("#achievement-pop-points").fadeOut();
                    $("#achievement-pop-description").fadeOut();
                }, 500);
            }, +value);
        }

        function setMasteryIn(value) {
            var element = document.getElementById("mastery-pop");
            
            element.classList.remove(masteryAnimationOut);
            element.classList.remove(masteryAnimationIn);

            setTimeout(function () {
                element.classList.add(masteryAnimationIn);

                $("#mastery-pop").fadeIn();
                $("#mastery-pop-badge").fadeIn();
                $("#mastery-pop-name").fadeIn();
                $("#mastery-pop-achievements").fadeIn();
                $("#mastery-pop-points").fadeIn();

                adjustMasteryFont();
            }, +value);
        }

        function setMasteryOut(value) {
            var element = document.getElementById("mastery-pop");

            setTimeout(function () {

                element.classList.remove(masteryAnimationOut);
                element.classList.remove(masteryAnimationIn);

                setTimeout(function () {

                    element.classList.add(masteryAnimationOut);

                    $("#mastery-pop").fadeOut();
                    $("#mastery-pop-badge").fadeOut();
                    $("#mastery-pop-name").fadeOut();
                    $("#mastery-pop-achievements").fadeOut();
                    $("#mastery-pop-points").fadeOut();
                }, 400);
            }, +value);
        }

        function hideNotifications() {
            document.getElementById("achievement-pop").classList.remove(achievementAnimationOut);
            document.getElementById("mastery-pop").classList.remove(masteryAnimationOut);

            $("#achievement-pop-video").fadeOut();
            $("#mastery-pop-video").fadeOut();
        }
    </script>
    <style id="achievement-pop-style" type="text/css">

        @keyframes animation-up {
            0% {
                left: 200px;
                top: 215px;
            }

            100% {
                left: 200px;
                top: -1310px;
            }
        }

        @keyframes animation-down {
            0% {
                left: 200px;
                top: 215px;
            }

            100% {
                left: 200px;
                top: 1110px;
            }
        }

        @keyframes animation-right {
            0% {
                left: 200px;
                top: 215px;
            }

            100% {
                left: 1200px;
                top: 215px;
            }
        }

        @keyframes animation-left {
            0% {
                left: 200px;
                top: 215px;
            }

            100% {
                left: -1000px;
                top: 215px;
            }
        }

        @keyframes user-prompt-animation {
            0% {
                left: 400px;
                top: -290px;
            }

            100% {
                left: 400px;
                top: 100px;
            }
        }

        @keyframes user-prompt-animation-reverse {
            0% {
                left: 400px;
                top: 100px;
            }

            100% {
                left: 400px;
                top: -290px;
            }
        }

        #achievement-pop,
        #mastery-pop {
            animation-fill-mode: forwards;
            animation-duration: 500ms;
        }

        .animation-in-left {
            animation-name: animation-left;
            animation-direction: reverse;
        }

        .animation-out-left {
            animation-name: animation-left;
            animation-direction: normal;
        }

        .animation-in-up {
            animation-name: animation-up;
            animation-direction: reverse;
        }

        .animation-out-up {
            animation-name: animation-up;
            animation-direction: normal;
        }

        .animation-in-right {
            animation-name: animation-right;
            animation-direction: reverse;
        }

        .animation-out-right {
            animation-name: animation-right;
            animation-direction: normal;
        }

        .animation-in-down {
            animation-name: animation-down;
            animation-direction: reverse;
        }

        .animation-out-down {
            animation-name: animation-down;
            animation-direction: normal;
        }

        .no-animation {
            animation-name: none;
        }

        #achievement-pop-name {
            position: relative;
            top: 10px;
            left: 12px;
            width: 870px;
            height: 60px;
            text-align: center;
            display: none;
        }

        #mastery-pop-name {
            position: relative;
            float: right;
            right: 15px;
            top: 12px;
            width: 680px;
            height: 100px;
            text-align: center;
            display: none;
        }

        #achievement-pop-badge {
            left: 2px;
            height: 125px;
            display: none;
        }

        #mastery-pop-badge {
            position: relative;
            left: 15px;
            top: 15px;
            float: left;
            height: 180px;
            display: none;
        }

        #achievement-pop-description {
            position: relative;
            float: right;
            width: 740px;
            height: 120px;
            text-align: center;
            display: none;
        }

        #mastery-pop-achievements,
        #mastery-pop-points {
            position: relative;
            float: right;
            padding-top: 25px;
            padding-right: 25px;
            width: 310px;
            height: 80px;
            text-align: left;
            display: none;
        }

        #achievement-pop-video,
        #mastery-pop-video {
            width: 900px;
            position: absolute;
            display: none;
        }

        .has-font {
            font-size: 48px;
            color: black;
            background: rgba(0, 0, 0, 0.0);
            font-family: Calibri;
            -webkit-text-stroke: 2px white;
            overflow-wrap: normal;
        }

        #user-prompt {
            animation-name: user-prompt-animation;
            animation-iteration-count: 1;
            animation-fill-mode: forwards;
            animation-duration: 1s;
        }

        #achievement-pop,
        #mastery-pop {
            position: relative;
            top: 215px;
            left: 200px;
            width: 900px;
            height: 212px;
            background: rgba(0, 0, 0, 0.0);
            display: none;
        }

        #achievement-pop-points {
            top: 130px;
            left: 20px;
            height: 70px;
        }

        #container,
        #achievement-pop-points {
            position: absolute;
        }
    </style>
    <script>
        function acknowledgePrompt() {
            document.getElementById("user-prompt").style.animationName = "user-prompt-animation-reverse";

            setTimeout(function () {
                var element = document.getElementById("user-prompt");
                element.parentNode.removeChild(element);
            }, 1000);
        };
    </script>
</head>
<body>
    <div id="container" style="width: 1361px; height: 763px; top: -5px; left: -5px;background-color: magenta;">
        <div id="user-prompt" class="has-font" style="position: absolute; width: 600px; height: 200px; left: 400px; top: 100px; text-align: center; display: none;">
            <div id="ready-message" class="has-font" style="        position: relative;
                    top: 50px;
                    text-align: center;
                    font-weight: bold;
                    vertical-align: middle;
                    font-size: 42px;
            ">
                Ready for some cheevos hunting?<br />
                <button id="confirm-button" style="text-align: center;font-weight: bold;vertical-align: middle;font-size: 32px; background-color: yellow;" onclick="acknowledgePrompt()" class="has-font">
                    Absolutely!
                </button>
            </div>
        </div>

        <div id="achievement-pop">
            <div id="achievement-pop-name" class="has-font"></div>
            <span id="description-span" style="display: table-cell;
                    position: relative;
                    vertical-align: top;
                    width: 875px;
                    left: 10px;
                    top: 10px;
                    overflow: hidden;
            ">
                <img id="achievement-pop-badge" />
                <a id="achievement-pop-description" class="has-font"></a>
            </span>
            <div id="achievement-pop-points" class="has-font"></div>
        </div>

        <div id="mastery-pop">
            <img id="mastery-pop-badge" />
            <div id="mastery-pop-name" class="has-font"></div>
            <div id="mastery-pop-achievements" class="has-font"></div>
            <div id="mastery-pop-points" class="has-font"></div>
        </div>

        <video id="achievement-pop-video" autoplay></video>
        <video id="mastery-pop-video" autoplay></video>
    </div>
</body>
</html>
